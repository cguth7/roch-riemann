Target theorem (informal but precise):Let $k$ be an algebraically closed field and $X$ a smooth projective curve over $k$.Let $D$ be a divisor on $X$, and let $K$ be a canonical divisor on $X$.Assume that for any divisor $Z$, the cohomology groups $H^i(X, \mathcal{O}_X(Z))$ are finite-dimensional over $k$.Define $\ell(D) = \dim_k H^0(X, \mathcal{O}_X(D))$ as a natural number.Define $g(X) = \dim_k H^1(X, \mathcal{O}_X)$ as a natural number.Then the following equality holds in $\mathbb{Z}$:$$(\ell(D) : \mathbb{Z}) - (\ell(K - D) : \mathbb{Z}) = \deg(D) + 1 - g(X)$$Definitions:$\mathcal{O}_X(D)$: The invertible sheaf associated to the divisor $D$.$K$: A divisor such that $\mathcal{O}_X(K) \cong \Omega^1_{X/k}$ (the sheaf of differentials).$\deg(D)$: The degree of divisor $D$ (integer-valued).$(\cdot : \mathbb{Z})$ denotes the coercion from natural numbers to integers.Allowed internal reformulations:Line bundle / invertible sheaf formulation.Canonical divisor $\leftrightarrow$ canonical sheaf.Use of Serre duality to identify $H^1$ terms if necessary to prove the existence of $K$.Disallowed changes:Changing hypotheses (smoothness, projectivity, algebraic closedness).Removing the divisor formulation from the final statement.Omitting the integer coercion logic.Priority:Correctness > formalizability > elegance