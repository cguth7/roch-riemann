{
  "active_edge": "Define FunctionFieldData, Effective, L(D) Riemann-Roch space",
  "candidates": [
    {
      "name": "Divisor α",
      "status": "PROVED",
      "statement": "abbrev Divisor (α : Type*) := α →₀ ℤ",
      "approach": "Type alias for Finsupp",
      "cycle": 4
    },
    {
      "name": "Divisor.deg",
      "status": "PROVED",
      "statement": "def deg (D : Divisor α) : ℤ := D.sum (fun _ n => n)",
      "approach": "Sum of coefficients",
      "cycle": 4
    },
    {
      "name": "Divisor.deg_add",
      "status": "PROVED",
      "statement": "deg (D + E) = deg D + deg E",
      "approach": "Via Finsupp.sum_add_index'",
      "cycle": 4
    },
    {
      "name": "Divisor.deg_zero",
      "status": "PROVED",
      "statement": "deg 0 = 0",
      "approach": "Via Finsupp.sum_zero_index",
      "cycle": 4
    },
    {
      "name": "Divisor.deg_neg",
      "status": "PROVED",
      "statement": "deg (-D) = -deg D",
      "approach": "Derived from deg_add + omega",
      "cycle": 4
    },
    {
      "name": "Divisor.deg_sub",
      "status": "PROVED",
      "statement": "deg (D - E) = deg D - deg E",
      "approach": "Derived from deg_add + deg_neg",
      "cycle": 4
    },
    {
      "name": "Divisor.deg_single",
      "status": "PROVED",
      "statement": "deg (single p n) = n",
      "approach": "Via Finsupp.sum_single_index",
      "cycle": 4
    },
    {
      "name": "RRDataWithEuler.riemannRoch",
      "status": "DERIVED_FROM_ASSUMPTIONS",
      "statement": "∀ D, ℓ(D) - ℓ(K-D) = deg(D) + 1 - g",
      "approach": "Algebraic derivation from structure fields",
      "assumptions": [
        "serreDuality : ∀ D, ell (K - D) = h1 D",
        "eulerChar_def : ∀ D, eulerChar D = ell D - h1 D",
        "eulerChar_formula : ∀ D, eulerChar D = deg D + 1 - genus"
      ],
      "note": "eulerChar_formula IS Riemann-Roch; derivation is circular",
      "cycle": 3
    }
  ],
  "blockers": [
    "mathlib lacks: line bundles, sheaf cohomology H⁰/H¹, genus for schemes",
    "Cannot yet instantiate RRData.Div with Divisor α (needs point type from curve)",
    "RRData.deg is abstract; not yet connected to Divisor.deg"
  ],
  "resolved_blockers": [
    "PIVOT Cycle 2: defined RRData structure (elaborates)",
    "PIVOT Cycle 3: extended to RRDataWithEuler (RR derivable from fields)",
    "CYCLE 4: Defined Divisor α := α →₀ ℤ, proved deg_add/deg_zero/deg_neg/deg_sub/deg_single"
  ],
  "next_action": "Cycle 5: Define Effective, FunctionFieldData (K, div, div_mul, div_one, deg_div), L(D) Riemann-Roch space. NO schemes/sheaves."
}
